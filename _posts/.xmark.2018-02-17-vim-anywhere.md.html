<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>2018-02-17-vim-anywhere.md / xmark</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style>
  
  /*
  The MIT License (MIT)
  
  Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)
  
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
  */
  
  header {
    display: none;
  }
  
  @font-face {
    font-family: octicons-link;
    src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
  }
  
  body {
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    line-height: 1.6;
    color: #24292e;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 16px;
    line-height: 1.5;
    word-wrap: break-word;
    padding: 2em;
  }
  
  .pl-c {
    color: #6a737d;
  }
  
  .pl-c1,
  .pl-s .pl-v {
    color: #005cc5;
  }
  
  .pl-e,
  .pl-en {
    color: #6f42c1;
  }
  
  .pl-smi,
  .pl-s .pl-s1 {
    color: #24292e;
  }
  
  .pl-ent {
    color: #22863a;
  }
  
  .pl-k {
    color: #d73a49;
  }
  
  .pl-s,
  .pl-pds,
  .pl-s .pl-pse .pl-s1,
  .pl-sr,
  .pl-sr .pl-cce,
  .pl-sr .pl-sre,
  .pl-sr .pl-sra {
    color: #032f62;
  }
  
  .pl-v,
  .pl-smw {
    color: #e36209;
  }
  
  .pl-bu {
    color: #b31d28;
  }
  
  .pl-ii {
    color: #fafbfc;
    background-color: #b31d28;
  }
  
  .pl-c2 {
    color: #fafbfc;
    background-color: #d73a49;
  }
  
  .pl-c2::before {
    content: "^M";
  }
  
  .pl-sr .pl-cce {
    font-weight: bold;
    color: #22863a;
  }
  
  .pl-ml {
    color: #735c0f;
  }
  
  .pl-mh,
  .pl-mh .pl-en,
  .pl-ms {
    font-weight: bold;
    color: #005cc5;
  }
  
  .pl-mi {
    font-style: italic;
    color: #24292e;
  }
  
  .pl-mb {
    font-weight: bold;
    color: #24292e;
  }
  
  .pl-md {
    color: #b31d28;
    background-color: #ffeef0;
  }
  
  .pl-mi1 {
    color: #22863a;
    background-color: #f0fff4;
  }
  
  .pl-mc {
    color: #e36209;
    background-color: #ffebda;
  }
  
  .pl-mi2 {
    color: #f6f8fa;
    background-color: #005cc5;
  }
  
  .pl-mdr {
    font-weight: bold;
    color: #6f42c1;
  }
  
  .pl-ba {
    color: #586069;
  }
  
  .pl-sg {
    color: #959da5;
  }
  
  .pl-corl {
    text-decoration: underline;
    color: #032f62;
  }
  
  .octicon {
    display: inline-block;
    vertical-align: text-top;
    fill: currentColor;
  }
  
  a {
    background-color: transparent;
    -webkit-text-decoration-skip: objects;
  }
  
  a:active,
  a:hover {
    outline-width: 0;
  }
  
  strong {
    font-weight: inherit;
  }
  
  strong {
    font-weight: bolder;
  }
  
  h1 {
    font-size: 2em;
    margin: 0.67em 0;
  }
  
  img {
    border-style: none;
  }
  
  svg:not(:root) {
    overflow: hidden;
  }
  
  code,
  kbd,
  pre {
    font-family: monospace, monospace;
    font-size: 1em;
  }
  
  hr {
    box-sizing: content-box;
    height: 0;
    overflow: visible;
  }
  
  input {
    font: inherit;
    margin: 0;
  }
  
  input {
    overflow: visible;
  }
  
  [type="checkbox"] {
    box-sizing: border-box;
    padding: 0;
  }
  
  * {
    box-sizing: border-box;
  }
  
  input {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }
  
  a {
    color: #0366d6;
    text-decoration: none;
  }
  
  a:hover {
    text-decoration: underline;
  }
  
  strong {
    font-weight: 600;
  }
  
  hr {
    height: 0;
    margin: 15px 0;
    overflow: hidden;
    background: transparent;
    border: 0;
    border-bottom: 1px solid #dfe2e5;
  }
  
  hr::before {
    display: table;
    content: "";
  }
  
  hr::after {
    display: table;
    clear: both;
    content: "";
  }
  
  table {
    border-spacing: 0;
    border-collapse: collapse;
  }
  
  td,
  th {
    padding: 0;
  }
  
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 0;
    margin-bottom: 0;
  }
  
  h1 {
    font-size: 32px;
    font-weight: 600;
  }
  
  h2 {
    font-size: 24px;
    font-weight: 600;
  }
  
  h3 {
    font-size: 20px;
    font-weight: 600;
  }
  
  h4 {
    font-size: 16px;
    font-weight: 600;
  }
  
  h5 {
    font-size: 14px;
    font-weight: 600;
  }
  
  h6 {
    font-size: 12px;
    font-weight: 600;
  }
  
  p {
    margin-top: 0;
    margin-bottom: 10px;
  }
  
  blockquote {
    margin: 0;
  }
  
  ul,
  ol {
    padding-left: 0;
    margin-top: 0;
    margin-bottom: 0;
  }
  
  ol ol,
  ul ol {
    list-style-type: lower-roman;
  }
  
  ul ul ol,
  ul ol ol,
  ol ul ol,
  ol ol ol {
    list-style-type: lower-alpha;
  }
  
  dd {
    margin-left: 0;
  }
  
  code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    font-size: 12px;
  }
  
  pre {
    margin-top: 0;
    margin-bottom: 0;
    font: 12px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  }
  
  .octicon {
    vertical-align: text-bottom;
  }
  
  .pl-0 {
    padding-left: 0 !important;
  }
  
  .pl-1 {
    padding-left: 4px !important;
  }
  
  .pl-2 {
    padding-left: 8px !important;
  }
  
  .pl-3 {
    padding-left: 16px !important;
  }
  
  .pl-4 {
    padding-left: 24px !important;
  }
  
  .pl-5 {
    padding-left: 32px !important;
  }
  
  .pl-6 {
    padding-left: 40px !important;
  }
  
  >*:first-child {
    margin-top: 0 !important;
  }
  
  >*:last-child {
    margin-bottom: 0 !important;
  }
  
  a:not([href]) {
    color: inherit;
    text-decoration: none;
  }
  
  .anchor {
    float: left;
    padding-right: 4px;
    margin-left: -20px;
    line-height: 1;
  }
  
  .anchor:focus {
    outline: none;
  }
  
  p,
  blockquote,
  ul,
  ol,
  dl,
  table,
  pre {
    margin-top: 0;
    margin-bottom: 16px;
  }
  
  hr {
    height: 0.25em;
    padding: 0;
    margin: 24px 0;
    background-color: #e1e4e8;
    border: 0;
  }
  
  blockquote {
    padding: 0 1em;
    color: #6a737d;
    border-left: 0.25em solid #dfe2e5;
  }
  
  blockquote>:first-child {
    margin-top: 0;
  }
  
  blockquote>:last-child {
    margin-bottom: 0;
  }
  
  kbd {
    display: inline-block;
    padding: 3px 5px;
    font-size: 11px;
    line-height: 10px;
    color: #444d56;
    vertical-align: middle;
    background-color: #fafbfc;
    border: solid 1px #c6cbd1;
    border-bottom-color: #959da5;
    border-radius: 3px;
    box-shadow: inset 0 -1px 0 #959da5;
  }
  
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 24px;
    margin-bottom: 16px;
    font-weight: 600;
    line-height: 1.25;
  }
  
  h1 .octicon-link,
  h2 .octicon-link,
  h3 .octicon-link,
  h4 .octicon-link,
  h5 .octicon-link,
  h6 .octicon-link {
    color: #1b1f23;
    vertical-align: middle;
    visibility: hidden;
  }
  
  h1:hover .anchor,
  h2:hover .anchor,
  h3:hover .anchor,
  h4:hover .anchor,
  h5:hover .anchor,
  h6:hover .anchor {
    text-decoration: none;
  }
  
  h1:hover .anchor .octicon-link,
  h2:hover .anchor .octicon-link,
  h3:hover .anchor .octicon-link,
  h4:hover .anchor .octicon-link,
  h5:hover .anchor .octicon-link,
  h6:hover .anchor .octicon-link {
    visibility: visible;
  }
  
  h1 {
    padding-bottom: 0.3em;
    font-size: 2em;
    border-bottom: 1px solid #eaecef;
  }
  
  h2 {
    padding-bottom: 0.3em;
    font-size: 1.5em;
    border-bottom: 1px solid #eaecef;
  }
  
  h3 {
    font-size: 1.25em;
  }
  
  h4 {
    font-size: 1em;
  }
  
  h5 {
    font-size: 0.875em;
  }
  
  h6 {
    font-size: 0.85em;
    color: #6a737d;
  }
  
  ul,
  ol {
    padding-left: 2em;
  }
  
  ul ul,
  ul ol,
  ol ol,
  ol ul {
    margin-top: 0;
    margin-bottom: 0;
  }
  
  li>p {
    margin-top: 16px;
  }
  
  li+li {
    margin-top: 0.25em;
  }
  
  dl {
    padding: 0;
  }
  
  dl dt {
    padding: 0;
    margin-top: 16px;
    font-size: 1em;
    font-style: italic;
    font-weight: 600;
  }
  
  dl dd {
    padding: 0 16px;
    margin-bottom: 16px;
  }
  
  table {
    display: block;
    width: 100%;
    overflow: auto;
  }
  
  table th {
    font-weight: 600;
  }
  
  table th,
  table td {
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
  }
  
  table tr {
    background-color: #fff;
    border-top: 1px solid #c6cbd1;
  }
  
  table tr:nth-child(2n) {
    background-color: #f6f8fa;
  }
  
  img {
    max-width: 100%;
    box-sizing: content-box;
    background-color: #fff;
  }
  
  code {
    padding: 0;
    padding-top: 0.2em;
    padding-bottom: 0.2em;
    margin: 0;
    font-size: 85%;
    background-color: rgba(27,31,35,0.05);
    border-radius: 3px;
  }
  
  code::before,
  code::after {
    letter-spacing: -0.2em;
    content: "\00a0";
  }
  
  pre {
    word-wrap: normal;
  }
  
  pre>code {
    padding: 0;
    margin: 0;
    font-size: 100%;
    word-break: normal;
    white-space: pre;
    background: transparent;
    border: 0;
  }
  
  .highlight {
    margin-bottom: 16px;
  }
  
  .highlight pre {
    margin-bottom: 0;
    word-break: normal;
  }
  
  .highlight pre,
  pre {
    padding: 16px;
    overflow: auto;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f6f8fa;
    border-radius: 3px;
  }
  
  pre code {
    display: inline;
    max-width: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    line-height: inherit;
    word-wrap: normal;
    background-color: transparent;
    border: 0;
  }
  
  pre code::before,
  pre code::after {
    content: normal;
  }
  
  .full-commit .btn-outline:not(:disabled):hover {
    color: #005cc5;
    border-color: #005cc5;
  }
  
  kbd {
    display: inline-block;
    padding: 3px 5px;
    font: 11px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    line-height: 10px;
    color: #444d56;
    vertical-align: middle;
    background-color: #fafbfc;
    border: solid 1px #d1d5da;
    border-bottom-color: #c6cbd1;
    border-radius: 3px;
    box-shadow: inset 0 -1px 0 #c6cbd1;
  }
  
  :checked+.radio-label {
    position: relative;
    z-index: 1;
    border-color: #0366d6;
  }
  
  .task-list-item {
    list-style-type: none;
  }
  
  .task-list-item+.task-list-item {
    margin-top: 3px;
  }
  
  .task-list-item input {
    margin: 0 0.2em 0.25em -1.6em;
    vertical-align: middle;
  }
  
  hr {
    border-bottom-color: #eee;
  }
  
  </style>
</head>
<body>
<header>
<h1 class="title">2018-02-17-vim-anywhere.md / xmark</h1>
</header>
<hr />
<p>layout: post title: &quot;모든 앱에서 Vim을 사용하는 법 - QuickCursorKM과 vim-anywhere&quot; description: &quot;모든 맥앱에서 Vim을 사용하는 방법을 키보드 마에스트로 매크로와 스크립트 두 가지 방법을 소개한다&quot; category: blog tags: [vi, vim, tip] ---</p>
<p><img src="/images/posts/vim.jpg" alt="Vim 3D" /></p>
<p>Vim에 익숙해진다는 것은 먼저 Vim의 키바인딩에 익숙해지는 것이다. 이 때부터 다른 텍스트 에디터의 키 바인딩을 옵션에서 Vim 키 바인딩으로 바꾸고, 옵션으로 제공하지 않는 에디터는 플러그인을 찾아서라도 키 바인딩을 바꾼게 된다. 더 나아가 웹브라우저는 물론 다른 모든 앱에서 Vim 키 바인딩을 사용하고 싶은 욕구가 넘치게 된다(적어도 필자는).</p>
<h2 id="---quickcursorkm">키보드 마에스트로 매크로 QuickCursorKM</h2>
<p>거의 모든 앱에서 Vim을 사용하는 방법으로 이제까지 사용하고 있는 것은 키보드 마에스트로에서 <a href="https://github.com/chauncey-garrett/keyboard-maestro-quickcursorkm">keyboard-maestro-quickcursorkm</a>를 사용하는 것이다.</p>
<p>매크로 저자가 여러 에디터를 선호하는지 꽤 많은 에디터를 선택할 수 있지만, Vim을 가장 많이 사용하는 필자는 Vim만의 단축키를 별도로 지정해서 사용하고 있다.</p>
<p>단축키를 누르면 현재 앱의 에디터에서 모든 텍스트를 선택해서 <code>.quickcursor_km.txt</code>에 저장하고 MacVim을 불러온다. 텍스트를 편집한 후에 MacVim을 종료하면 이전 앱의 에디터로 전체 텍스트를 붙여넣는다.</p>
<p>물론 앱의 에디터에서 일부 선택해서 그 부분만 편집할 수도 있다.</p>
<h3>단점</h3>
<ul>
<li>MacVim을 종료해야 매크로의 나머지 부분이 제대로 동작한다.</li>
<li>원래 에디터가 MacVim의 이전 앱이어야 한다. 다른 앱으로 전환한 적이 있다면 다시 편집하던 앱으로 전환한 후 MacVim으로 다시 돌아가 종료해야 한다.</li>
</ul>
<h2 id="vim-anywhere">vim-anywhere</h2>
<p>나랑 같은 Vim 중독 증후군(?)이 있는 사람이 스크립트를 이용하는 <a href="https://github.com/cknadler/vim-anywhere">vim-anywhere</a>를 만들어서 공개한 것을 발견하였다.</p>
<p>동작하는 방식은 QuickCursorKM보다 간결하다. 지정한 단축키로 호출하면 임시 버퍼를 열고, 창을 닫으면 편집하던 버퍼의 내용을 클립 보드에 복사하고 이전 앱으로 다시 돌아간다. 편집한 텍스트를 붙여넣으면 끝! 간결해서 오히려 QuickCursorKM의 단점을 확실히 커버한다.</p>
<p>리눅스에서도 사용</p>
<h3>설치</h3>
<p>MacVim을 설치해야 한다.</p>
<pre class="shell"><code>brew install macvim
curl -fsSL https://raw.github.com/cknadler/vim-anywhere/master/install | bash</code></pre>
<p>OSX에서 vim-anywhere를 호출하는 키보드 단축키는 스크립트로 지정할 수 없다. 단, 설치 스크립트가 자동으로 시스템 환경설정&gt;키보드&gt;단축키를 연다.</p>
<p><img src="https://raw.githubusercontent.com/cknadler/vim-anywhere/master/assets/shortcut.png" alt="키보드 단축키" /></p>
<p><code>일반&gt;VimAnyWhere&gt;단축키 추가</code> 버튼을 클릭한 후 원하는 단축키를 지정한다. <code>Cmd+Ctrl+V</code>를 권장하고 있다.</p>
<p>참고로 업데이트는,</p>
<pre class="shell"><code>~/.vim-anywhere/update</code></pre>
<p>삭제는,</p>
<pre class="shell"><code>~/.vim-anywhere/uninstall</code></pre>
<p>시스템을 종료하기 전까지 제공하는 임시 history를 보고 싶다면,</p>
<pre class="shell"><code>ls /tmp/vim-anywhere</code></pre>
<p>최근에 편집하뎐 파일을 다시 열려면,</p>
<pre class="shell"><code>vim $( ls /tmp/vim-anywhere | sort -r | head -n 1 )</code></pre>
<p>즐빔!</p>
</body>
</html>
